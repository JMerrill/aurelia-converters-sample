<template>
  <import from="./source"></import>
  <import from="./parse-javascript-literal"></import>

  <div class="panel panel-default">
    <div class="panel-body">
      <div class="row">
        <template if.bind="!layout">
          <div repeat.for="resource of resources" class="col-md-6">
            <a href="${$parent.githubBase}/src/${$parent.src}/${resource}.js" target="_blank">${resource}:</a>
            <pre><code class="language-javascript" source="src/${$parent.src}/${resource}.js"></code></pre>
          </div>

          <div if.bind="!noview" class="col-md-6">
            <a href="${githubBase}/src/${src}/view-model.js" target="_blank">view-model:</a>
            <pre><code class="language-javascript" source="src/${src}/view-model.js"></code></pre>
          </div>

          <div if.bind="!noview" class="col-md-6">
            <a href="${githubBase}/src/${src}/view.html" target="_blank">view:</a>
            <pre><code class="language-markup" source="src/${src}/view.html"></code></pre>
          </div>
        </template>

        <div if.bind="layout" repeat.for="column of layout | parseJavascriptLiteral" class="col-md-6">
          <template repeat.for="resource of column">
            <a href="${$parent.$parent.githubBase}/src/${$parent.$parent.src}/${resource.name}.${resource.type === 'javascript' ? 'js' : 'html'}" target="_blank">${resource.name}:</a>
            <pre><code class="language-${resource.type}" source="src/${$parent.$parent.src}/${resource.name}.${resource.type === 'javascript' ? 'js' : 'html'}"></code></pre>
          </template>
        </div>
      </div>

      <div class="row" if.bind="!noview" >
        <div class="col-md-12">
          <strong>result:</strong>
          <div class="well">
            <compose view-model="../${src}/view-model" view="../${src}/view.html"></compose>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
